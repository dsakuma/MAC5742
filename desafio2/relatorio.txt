MAC5742 - Desafio EP2
=====================

1. Aluno
--------

Daniel Sakuma
N USP: 5619562


2. Como compilar e rodar
------------------------

Para compilar e rodar, digite:

  $ make


3. Descrição da implementação
-----------------------------

O que foi feito...

Para forçar o uso da FPU, o programa inicializa 8 threads e executa um laço por 100 milhões
que contém operações aritméticas simples. As operações envolvem números aleatóerios e apenas
4 variáveis. Segue o código:

  while(counter < NUM_OPS){
    a = rand();
    b = rand();
    c = a + b;
    sum = sum + c;
    counter++;
  };



4. Resultados
-------------

O teste foi realizado em um processador Intel Core i5-7360U. Esse processador contém 2 núcleos
e 4 threads. Desabilitando o HyperThreading, foi tempo de execução foi 44% menor.

Saída do programa com a execução com HyperThreading:

  Time elapsed: 37.248286 seconds

Saída do programa com a execução sem HyperThreading:

  Time elapsed: 21.735716 seconds


5. Instruções para desabilitar o HyperThreading
-----------------------------------------------

On OSX (é necessário o Xcode instalado):
  - Abra o Xcode
  - Entre em Instruments pelo menu Xcode > Open Developer Tools > Instruments
  - Entre em Instruments > Preferences
  - Selecione a aba CPUs e desmarque a opção "Hardware Multi-Threading"

No Linux:
  - Liste as CPUs disponíveis:

    $ lscpu --extended

  - Desabilite a cpu desejada (como root):

    # echo 0 > /sys/devices/system/cpu/cpu1/online
